<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>도전문제-구조분해할당, 스프레드연산자</title>
  </head>
  <body>
    <script type="text/javascript">
      //리액트 태그와 자바스크립트코드 같이 쓴다
      //items는 배열이다 배열안에 객체가 있다
      //데이터베이스 연동없이 입력 수정 삭제 조회 반복 연습
      //배열만 있을 때
      //객체만 있을 때
      //배열안에 객체 있을 때
      let items = [
        { id: 1, name: "벤치프레스", count: 10 },
        { id: 2, name: "랫풀다운", count: 12 },
        { id: 3, name: "스쿼트", count: 30 },
      ];
      //////////////////////////추가 전개연산자 2번//////////////////////////////

      let items2 = [{ id: 4, name: "데드", count: 10 }];
      let merge = [...items, ...items2];
      document.write("<div>");
      document.write("<table border='1' borderColor='red'>");

      merge.forEach((item) => {
        document.write("<tr>");
        document.write(`<td>${item.id}</td>`);
        document.write(`<td>${item.name}</td>`);
        document.write(`<td>${item.count}</td>`);
        document.write("</tr>");
      });
      document.write("</table>");
      document.write("</div>");
      /////////////////////////////////삭제 filter함수 3번 대화형 프로그래밍 처리 훈련/////////////////////////
      //prompt로 받으면 문자열이다(===,!== 사용시 타입을 따지기 때문에 주의하자)
      let result = -1;
      //alert("사용자가 선택한 아이디는 " + result + "입니다");
      //arr.filter(callback(element[, index[, array]])[, thisArg])
      //filter함수는 조건과 합치하는 값만 남긴다

      let newItems = items.filter((item) => item.id !== parseInt(result));
      document.write("<div>");
      document.write("<table border='1' borderColor=blue'>");

      items.forEach((item) => {
        document.write("<tr>");
        document.write(`<td>${item.id}</td>`);
        document.write(`<td>${item.name}</td>`);
        document.write(`<td>${item.count}</td>`);
        document.write("</tr>");
      });
      document.write("</table>");
      document.write("</div>");

      ///////////////////////////////////수정////////////////////////////////
      result = window.prompt("수정하고자 하는 id를 입력하세요");
      let x = [...items];

      x.forEach((item) => {
        if (item.id === parseInt(result)) {
          x = items.filter(item => item.id !== parseInt(result))
          x = [...x, { id: `${parseInt(result)}`, name: "데드", count: 10 }]
        }
    })
        document.write("<div>");
        document.write("<table border='2' borderColor='black'>");
        x.forEach((item) => {
          document.write("<tr>");
          document.write(`<td>${item.id}</td>`);
          document.write(`<td>${item.name}</td>`);
          document.write(`<td>${item.count}</td>`);
          document.write("</tr>");
        });
        document.write("</table>");
        document.write("</div>");

      ////////////////////////조회 forEach 1번///////////////////////////////////////
      //<태그 속성명 = 값> 내용 </태그>
      document.write("<div>");
      document.write("<table border='1' borderColor='green'>");
      items.forEach((item) => {
        document.write("<tr>");
        document.write(`<td>${item.id}</td>`);
        document.write(`<td>${item.name}</td>`);
        document.write(`<td>${item.count}</td>`);
        document.write("</tr>");
      });
      document.write("</table>");
      document.write("</div>");
    </script>
  </body>
</html>
